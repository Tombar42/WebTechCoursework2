<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Music Quiz</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fontisto/3.0.4/css/fontisto/fontisto.min.css" />
</head>
<body>

  <div class="background-elements">
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
  </div>

  <div class="quiz-container">
    <h1>Music Quiz</h1>
    <p>Test your music knowledge and climb the leaderboard!</p>
    <p>Rules: Answer as many questions as you can correctly. The faster, the better!</p>

    <button class="btn" onclick="window.location.href='Quiz.html';">
      <i class="fi fi-music-note"></i>Play
    </button>

    <div class="leaderboard">
      <h2>Leaderboard</h2>
      <p>Coming soon...</p>
    </div>

    <!-- 🔍 Music Search Section -->
    <div class="search-section">
      <input type="text" id="searchInput" placeholder="Search for a song..." class="btn" style="padding: 10px 20px; font-size: 1rem;" />
      <button class="btn" onclick="searchAndPlaySnippet()">Play Snippet</button>
    </div>

    <div id="trackInfo" class="leaderboard"></div>

    <audio id="audioPlayer" preload="metadata"></audio>
  </div>

  <script>
    async function searchAndPlaySnippet() {
      const query = document.getElementById('searchInput').value.trim();
      if (!query) return;

      const url = `https://api.deezer.com/search?q=${encodeURIComponent(query)}&output=jsonp&limit=1`;
      const callbackName = "deezerCallback_" + Math.random().toString(36).substring(7);
      const script = document.createElement('script');
      script.src = url + `&callback=${callbackName}`;

      window[callbackName] = function(data) {
        if (!data.data || data.data.length === 0) {
          document.getElementById('trackInfo').innerHTML = '<p>No results found.</p>';
          return;
        }

        const track = data.data[0];
        const audio = document.getElementById('audioPlayer');
        const infoDiv = document.getElementById('trackInfo');

        infoDiv.innerHTML = `
          <h2>${track.title}</h2>
          <p>by ${track.artist.name}</p>
          <img src="${track.album.cover_medium}" width="200" style="border-radius: 10px;" />
        `;

        audio.src = track.preview;
        audio.currentTime = 0;
        audio.play();

        setTimeout(() => {
